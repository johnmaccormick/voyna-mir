<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Supabase demo: reading froma table</title>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  </head>
  <body>
    <h2>Demo: name of one person, with RLS</h2>
    <p id="person">Loading...</p>

    <script type="module">
      import { client } from "./supabaseClient.js";

      async function loadMessage() {
        const { data, error } = await client
          .from("people2")
          .select("name")
          .eq("id", 1)
          .single();

        console.log("Data:", data);
        console.log("Error:", error);

        if (error) {
          document.getElementById("person").textContent =
            "Error: " + error.message;
        } else if (data) {
          document.getElementById("person").textContent = data.name;
        } else {
          document.getElementById("person").textContent = "No data found.";
        }
      }

      loadMessage();
    </script>
  </body>
</html>
